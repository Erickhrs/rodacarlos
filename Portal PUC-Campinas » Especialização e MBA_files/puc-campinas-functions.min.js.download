function alteraUrlWebSist(){var a,e;for(a=$(".webapp a, a.webapp"),"www"==window.location.host.split(".")[0]?WEB_APP_PATH.replace("{0}",""):WEB_APP_PATH.replace("{0}","d"),e=0;e<a.length;e++){var t;(t=$(a[e]).attr("rel").split("-"))[0]=WEB_APP_PATH,$(a[e]).attr("href",t.join("/"))}}function getUrlWebSist(){return"www"==window.location.host.split(".")[0]?WEB_APP_PATH.replace("{0}",""):WEB_APP_PATH.replace("{0}","d")}function abreAccordion(){jQuery(document).on("click",".accordion h3",function(){var a=$(this),e=a.siblings(".slide"),t=a.parent("li").siblings("li"),o=a.parents(".accordion").siblings(".accordion");a.hasClass("active")?(a.removeClass("active"),e.slideToggle().removeClass("open")):(t.find("h3").removeClass("active"),t.find(".slide.open").slideToggle().removeClass("open"),o.find("h3").removeClass("active"),o.find(".slide.open").slideToggle().removeClass("open"),a.addClass("active"),e.slideToggle(128,function(){setTimeout(function(){$("html, body").animate({scrollTop:a.offset().top-150},128)},256)}).addClass("open"))})}function abreModalCorpoDocentePosGraduacao(){$("a.trigger-modal-pos-graduacao").click(function(a){var e;$(".navbar-fixed-top").hide(),a.preventDefault(),e=$(this).attr("data-target"),bootbox.dialog({message:'<iframe src="'+e+'" style="width: 100%; border:none;height:500px;">',buttons:{close:{label:"Fechar",className:"btn-default",callback:function(){$(".navbar-fixed-top").show()}}}}),$(".bootbox-close-button.close").click(function(){$(".navbar-fixed-top").show()})})}function abreModalCorpoDocenteExtensao(){$("a.trigger-modal-convidado").click(function(a){var e;$(".navbar-fixed-top").hide(),a.preventDefault(),e=$("#"+$(this).attr("data-target")).html(),bootbox.dialog({title:"<strong>"+$(this).html()+"</strong>",message:e,buttons:{close:{label:"Fechar",className:"btn-default",callback:function(){$(".navbar-fixed-top").show()}}}}),$(".bootbox-close-button.close").click(function(){$(".navbar-fixed-top").show()})})}function fixMenuMobileAbasCurso(){$(".curso-dropdown a").click(function(){$(this).parent().siblings().removeClass("active")})}function ajustaAlturaThumbnail(){var a=0;$(".thumbnails .thumbnail").length>1&&($.each($(".thumbnails .thumbnail"),function(){$(this).height()>a&&(a=$(this).height())}),$.each($(".thumbnails .thumbnail"),function(){$(this).height(a)}))}function alteraVisualizadaoGrid(){$("button.trigger-list").on("click",function(){$(this).hasClass("grid")?($(".table").removeClass("table").addClass("thumbnails"),$(".list").removeClass("list").addClass("thumbnail"),$(".thumbnails li").removeClass("row").addClass("span4"),ajustaAlturaThumbnail(),$(this).attr("disabled","disabled").siblings(".btn").removeAttr("disabled")):$(this).hasClass("lista")&&($(".thumbnails").removeClass("thumbnails").addClass("table"),$(".span4").removeClass("span4").addClass("row"),$(".thumbnail").removeClass("thumbnail").addClass("list"),$(".table .list").removeAttr("style"),$(this).attr("disabled","disabled").siblings(".btn").removeAttr("disabled"))})}function receiveMessage(a){var e;if(void 0!==a.originalEvent.data.indexOf)try{if(0!=a.originalEvent.data.indexOf("{")&&0!=a.originalEvent.data.indexOf("["))return;switch((e=JSON.parse(a.originalEvent.data)).message){case"redirect":location.href=e.obj;break;case"resize":$("iframe").height(e.obj+150),$("html, body").animate({scrollTop:0},128)}}catch(a){console.log(a)}}function scrollFireMenu(){$(document).on("scroll",function(){$(document).scrollTop()>300?($("#nav").removeClass("navbar navbar-default sombra").addClass("navbar navbar-default navbar-fixed-top semsombra"),$("#brand").removeClass("navbar-brand").addClass("navbar-brand-fixed"),$("#brand li").removeClass("fa-home"),$("#brand").addClass("navbar-logo-fixed")):($("#nav").removeClass("navbar navbar-default navbar-fixed-top semsombra").addClass("navbar navbar-default sombra"),$("#brand").removeClass("navbar-brand-fixed").addClass("navbar-brand"),$("#brand li").addClass("fa-home"),$("#brand").removeClass("navbar-logo-fixed"))})}function menuAcessInit(){var a=new MenuAccess({links:[{url:"https://login.sis.puc-campinas.edu.br",lbl:"√Årea Logada"},{url:"/prograd/proaces/",lbl:"Proacess"}]});setTimeout(function(){a.init()},1e3)}function openModalGrupoPesquisa(a){var e;0!=$(a).val()&&void 0!==$(a).val()&&(e=$(a).attr("data-target")+"/user-controls/pesquisa/GrupoDePesquisa.aspx?grupo="+$(a).val()+"&height=500&width=750&modal=true&TB_iframe=true",$(".navbar-fixed-top").hide(),bootbox.dialog({message:'<iframe src="'+e+'" style="width: 100%; border:none;height:500px;">',buttons:{close:{label:"Fechar",className:"btn-default",callback:function(){$(".navbar-fixed-top").show()}}}}),$(".bootbox-close-button.close").click(function(){$(".navbar-fixed-top").show()}))}function browserSuport(){if("Microsoft Internet Explorer"==navigator.appName){var a=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(a)&&parseFloat(RegExp.$1)<9&&(window.location.href="/browser-nao-suportado/")}}function init(){scrollFireMenu(),menuAcessInit(),alteraUrlWebSist(),abreAccordion(),abreModalCorpoDocentePosGraduacao(),fixMenuMobileAbasCurso(),ajustaAlturaThumbnail(),alteraVisualizadaoGrid(),openModalGrupoPesquisa(),$(window).on("message",receiveMessage),abreModalCorpoDocenteExtensao()}var WEB_APP_PATH="//wl.sis{0}.puc-campinas.edu.br";browserSuport(),$(document).ready(function(){init()});